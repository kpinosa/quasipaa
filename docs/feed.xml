<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Mr.Panda</title>
    <subtitle></subtitle>
    <updated>2023-09-17T01:23:31.610212167+00:00</updated>
    <id>https://mycrl.github.io/Mycrl</id>
    <link href="https://mycrl.github.io/Mycrl/feed.xml" rel="self" type="application/atom+xml" />
    <link href="https://mycrl.github.io/Mycrl" rel="alternate" type="text/html" />
    <generator uri="https://github.com/zineland/zine" version="0.9.0">zine</generator>
    <author>
        <name>Mr.Panda</name>
        <uri>https://mycrl.github.io/Mycrl</uri>
    </author>

    <entry>
        <title>STUN协议详解</title>
        <link rel="alternate" href="https://mycrl.github.io/Mycrl/p2p/stun_proto" type="text/html" title="STUN协议详解" />
        <published>2022-12-30</published>
        <updated>2022-12-30</updated>
        <id>https://mycrl.github.io/Mycrl/p2p/stun_proto</id>
        <content type="html" xml:base="https://mycrl.github.io/Mycrl/p2p/stun_proto">
            <![CDATA[<blockquote>
<p><code>NAT会话遍历实用程序(STUN)</code>是一种服务于作为其他协议处理<code>NAT</code>穿透的工具 | 可以使用它来确定分配的<code>IP</code>地址和端口并通过<code>NAT</code>访问它 | 它还可以用于检查两个端点之间的连通性 | <code>STUN</code>与许多现有的<code>NAT</code>一起工作 | 并作为保持<code>NAT</code>绑定活动的协议.<br />
<code>STUN</code>本身并不是一个<code>NAT</code>穿越解决方案 | 而是作为一种工具在<code>NAT</code>穿透解决方案的上下文中使用.</p>
</blockquote>
<p><code>STUN</code>协议可以使用<code>TCP</code>或者<code>UDP</code>传输，但一般情况下使用<code>UDP</code> | 一个完整的<code>STUN</code>消息由一个消息头和多个属性组成.</p>
<div class="url-preview">
 <div>RFC 8489: Session Traversal Utilities for NAT (STUN)</div>
 <div></div>
 <a href="https://www.rfc-editor.org/rfc/rfc8489">https://www.rfc-editor.org/rfc/rfc8489</a>
</div>
<hr />
<h3 id="stun消息头" class="toc-item flex items-center group scroll-mt-20">
    STUN消息头
    <a href="#stun消息头" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">            0                   1                   2                   3
</span><span style="color:#bfbab0;">            0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |0 0|     STUN Message Type     |         Message Length        |
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |                         Magic Cookie                          |
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |                                                               |
</span><span style="color:#bfbab0;">           |                     Transaction ID (96 bits)                  |
</span><span style="color:#bfbab0;">           |                                                               |
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<table><thead><tr><th>字段</th><th>长度</th><th>说明</th></tr></thead><tbody>
<tr><td>type</td><td>2</td><td>消息类型</td></tr>
<tr><td>len</td><td>2</td><td>消息长度</td></tr>
<tr><td>cookie</td><td>4</td><td>固定值: <code>0x2112A442u32</code></td></tr>
<tr><td>transaction id</td><td>12</td><td>交易号</td></tr>
</tbody></table>
<h4 id="消息类型" class="toc-item flex items-center group scroll-mt-20">
    消息类型
    <a href="#消息类型" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4><table><thead><tr><th>类型</th><th>值</th></tr></thead><tbody>
<tr><td>BindingRequest</td><td><code>0x0001</code></td></tr>
<tr><td>BindingResponse</td><td><code>0x0101</code></td></tr>
<tr><td>BindingError</td><td><code>0x0111</code></td></tr>
<tr><td>AllocateRequest</td><td><code>0x0003</code></td></tr>
<tr><td>AllocateResponse</td><td><code>0x0103</code></td></tr>
<tr><td>AllocateError</td><td><code>0x0113</code></td></tr>
<tr><td>CreatePermissionRequest</td><td><code>0x0008</code></td></tr>
<tr><td>CreatePermissionResponse</td><td><code>0x0108</code></td></tr>
<tr><td>CreatePermissionError</td><td><code>0x0118</code></td></tr>
<tr><td>ChannelBindRequest</td><td><code>0x0009</code></td></tr>
<tr><td>ChannelBindResponse</td><td><code>0x0109</code></td></tr>
<tr><td>ChannelBindError</td><td><code>0x0119</code></td></tr>
<tr><td>RefreshRequest</td><td><code>0x0004</code></td></tr>
<tr><td>RefreshResponse</td><td><code>0x0104</code></td></tr>
<tr><td>RefreshError</td><td><code>0x0114</code></td></tr>
<tr><td>SendIndication</td><td><code>0x0016</code></td></tr>
<tr><td>DataIndication</td><td><code>0x0017</code></td></tr>
</tbody></table>
<h4 id="交易号" class="toc-item flex items-center group scroll-mt-20">
    交易号
    <a href="#交易号" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<p><code>STUN</code>消息中的交易号是客户端生成的随机数据，服务端返回<code>STUN</code>响应的时候需要关联请求交易号.</p>
<hr />
<h3 id="stun消息属性" class="toc-item flex items-center group scroll-mt-20">
    STUN消息属性
    <a href="#stun消息属性" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">            0                   1                   2                   3
</span><span style="color:#bfbab0;">            0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |         Type                  |            Length             |
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |                         Value (variable)                ....
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<table><thead><tr><th>字段</th><th>长度</th><th>说明</th></tr></thead><tbody>
<tr><td>type</td><td>2</td><td>属性类型</td></tr>
<tr><td>len</td><td>2</td><td>内容长度</td></tr>
<tr><td>value</td><td></td><td>属性内容</td></tr>
</tbody></table>
<blockquote>
<p>属性内容为了对齐会存在填充位，长度为<code>4</code>的倍数，如果不足则填充<code>0</code>，如：内容长度为<code>5</code>，则<code>len</code>为<code>5</code>，但<code>value</code>的长度为<code>8</code>， 填充<code>3</code>个<code>0</code>， 读取<code>value</code>的时候需要排除掉填充位.</p>
</blockquote>
<h4 id="属性类型" class="toc-item flex items-center group scroll-mt-20">
    属性类型
    <a href="#属性类型" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4><table><thead><tr><th>类型</th><th>值</th></tr></thead><tbody>
<tr><td>UserName</td><td><code>0x0006</code></td></tr>
<tr><td>Data</td><td><code>0x0013</code></td></tr>
<tr><td>Realm</td><td><code>0x0014</code></td></tr>
<tr><td>Nonce</td><td><code>0x0015</code></td></tr>
<tr><td>XorPeerAddress</td><td><code>0x0012</code></td></tr>
<tr><td>XorRelayedAddress</td><td><code>0x0016</code></td></tr>
<tr><td>XorMappedAddress</td><td><code>0x0020</code></td></tr>
<tr><td>MappedAddress</td><td><code>0x0001</code></td></tr>
<tr><td>ResponseOrigin</td><td><code>0x802B</code></td></tr>
<tr><td>Software</td><td><code>0x8022</code></td></tr>
<tr><td>MessageIntegrity</td><td><code>0x0008</code></td></tr>
<tr><td>ErrorCode</td><td><code>0x0009</code></td></tr>
<tr><td>Lifetime</td><td><code>0x000D</code></td></tr>
<tr><td>ReqeestedTransport</td><td><code>0x0019</code></td></tr>
<tr><td>Fingerprint</td><td><code>0x8028</code></td></tr>
<tr><td>ChannelNumber</td><td><code>0x000C</code></td></tr>
<tr><td>IceControlled</td><td><code>0x8029</code></td></tr>
<tr><td>Priority</td><td><code>0x0024</code></td></tr>
<tr><td>UseCandidate</td><td><code>0x0025</code></td></tr>
<tr><td>IceControlling</td><td><code>0x802A</code></td></tr>
</tbody></table>
<h4 id="username" class="toc-item flex items-center group scroll-mt-20">
    UserName
    <a href="#username" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>这个属性在确保消息一致性时使用，这个属性包含一个可变长度的字符串，字符串编码必须为<code>UTF-8</code>，对于最大长度有限制，最大长度为<code>508</code>.</p>
</blockquote>
<h4 id="date" class="toc-item flex items-center group scroll-mt-20">
    Date
    <a href="#date" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>在<code>DataIndication</code>消息中使用，这个属性的值是可变长度的.</p>
</blockquote>
<h4 id="realm" class="toc-item flex items-center group scroll-mt-20">
    Realm
    <a href="#realm" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>可以出现在请求或者响应中，但一般在确保消息一致性的时候使用，字符串编码必须为<code>UTF-8</code>，最大长度为<code>127</code>.</p>
</blockquote>
<h4 id="nonce" class="toc-item flex items-center group scroll-mt-20">
    Nonce
    <a href="#nonce" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>一段随机字符串，可以出现在请求或者响应中，字符串编码必须为<code>UTF-8</code>，最大长度为<code>127</code>，对于一个对端<code>Nonce</code>值是唯一并且持久的，这里可以理解为对端的标识，<code>Nonce</code>存在过期时间，过期之后需要重新刷新随机字符串，默认过期时间为<code>3600</code>秒.</p>
</blockquote>
<h4 id="software" class="toc-item flex items-center group scroll-mt-20">
    Software
    <a href="#software" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>包含自身程序的文本描述，这个值对于协议没有任何影响，一般情况下包含制造商和版本，用于参考信息.</p>
</blockquote>
<h4 id="messageintegrity" class="toc-item flex items-center group scroll-mt-20">
    MessageIntegrity
    <a href="#messageintegrity" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>消息完整性检查使用，包含一个<code>HMAC-SHA1</code>值，对于短期凭证和长期凭证有不同的计算方法.<br />
这里以长期认证举例: <code>HMAC-SHA1(username + password + realm)</code></p>
</blockquote>
<h4 id="xorpeeraddress" class="toc-item flex items-center group scroll-mt-20">
    XorPeerAddress
    <a href="#xorpeeraddress" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>指定对等方的地址和端口. <code>(XOR)</code></p>
</blockquote>
<h4 id="xorrelayedaddress" class="toc-item flex items-center group scroll-mt-20">
    XorRelayedAddress
    <a href="#xorrelayedaddress" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>服务器分配的地址和端口. <code>(XOR)</code></p>
</blockquote>
<h4 id="xormappedaddress" class="toc-item flex items-center group scroll-mt-20">
    XorMappedAddress
    <a href="#xormappedaddress" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>与<code>MappedAddress</code>相同. <code>(XOR)</code></p>
</blockquote>
<h4 id="mappedaddress" class="toc-item flex items-center group scroll-mt-20">
    MappedAddress
    <a href="#mappedaddress" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>客户端的自反地址. <code>(客户端NAT最外层地址)</code></p>
</blockquote>
<h4 id="responseorigin" class="toc-item flex items-center group scroll-mt-20">
    ResponseOrigin
    <a href="#responseorigin" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>服务器的对外地址. <code>(用来处理双重NAT)</code></p>
</blockquote>
<h4 id="errorcode" class="toc-item flex items-center group scroll-mt-20">
    ErrorCode
    <a href="#errorcode" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>用于错误消息响应.</p>
</blockquote>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">           0                   1                   2                   3
</span><span style="color:#bfbab0;">           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |           Reserved, should be 0         |Class|     Number    |
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |      Reason Phrase (variable)                                ..
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<table><thead><tr><th>字段</th><th>长度</th><th>说明</th></tr></thead><tbody>
<tr><td>code</td><td>2</td><td>错误代码</td></tr>
<tr><td>message</td><td></td><td>错误消息</td></tr>
</tbody></table>
<table><thead><tr><th>错误码</th><th>值</th></tr></thead><tbody>
<tr><td>TryAlternate</td><td><code>0x0300</code></td></tr>
<tr><td>BadRequest</td><td><code>0x0400</code></td></tr>
<tr><td>Unauthorized</td><td><code>0x0401</code></td></tr>
<tr><td>Forbidden</td><td><code>0x0403</code></td></tr>
<tr><td>RequestTimedout</td><td><code>0x0408</code></td></tr>
<tr><td>UnknownAttribute</td><td><code>0x0414</code></td></tr>
<tr><td>AllocationMismatch</td><td><code>0x0425</code></td></tr>
<tr><td>StaleNonce</td><td><code>0x0426</code></td></tr>
<tr><td>AddressFamilyNotSupported</td><td><code>0x0428</code></td></tr>
<tr><td>WrongCredentials</td><td><code>0x0429</code></td></tr>
<tr><td>UnsupportedTransportAddress</td><td><code>0x042A</code></td></tr>
<tr><td>AllocationQuotaReached</td><td><code>0x0456</code></td></tr>
<tr><td>ServerError</td><td><code>0x0500</code></td></tr>
<tr><td>InsufficientCapacity</td><td><code>0x0508</code></td></tr>
</tbody></table>
<h4 id="lifetime" class="toc-item flex items-center group scroll-mt-20">
    Lifetime
    <a href="#lifetime" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>用于指示和刷新生命周期.</p>
</blockquote>
<h4 id="reqeestedtransport" class="toc-item flex items-center group scroll-mt-20">
    ReqeestedTransport
    <a href="#reqeestedtransport" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>客户端请求使用的传输协议.</p>
</blockquote>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">           0                   1                   2                   3
</span><span style="color:#bfbab0;">           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |    Protocol   |                    RFFU                       |
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<table><thead><tr><th>协议</th><th>值</th></tr></thead><tbody>
<tr><td>UDP</td><td>0x01</td></tr>
<tr><td>TCP</td><td>0x02</td></tr>
</tbody></table>
<h4 id="fingerprint" class="toc-item flex items-center group scroll-mt-20">
    Fingerprint
    <a href="#fingerprint" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p><code>STUN</code>消息摘要，这个属性必须是属性列表的最后一个属性，通过对整个消息经常<code>CRC</code>计算得到.</p>
</blockquote>
<div class="callout" style="background-color: #dee0e399; border-color: #dee0e3">
 <div><p>在计算<code>Fingerprint</code>之前，STUN消息的长度字段必须包含<code>Fingerprint</code>属性的长度，但并不用真正包含<code>Fingerprint</code>字段.</p>
</div>
</div>
<h4 id="channelnumber" class="toc-item flex items-center group scroll-mt-20">
    ChannelNumber
    <a href="#channelnumber" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>在绑定和发送<code>channel</code>消息时使用，内部包含一个通道号，这个属性的长度是<code>4</code>个字节.</p>
</blockquote>
<pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">           0                   1                   2                   3
</span><span style="color:#bfbab0;">           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |        Channel Number         |         RFFU = 0              |
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<hr />
<h4 id="#address" class="toc-item flex items-center group scroll-mt-20">
    #Address
    <a href="##address" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4><pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">           0                   1                   2                   3
</span><span style="color:#bfbab0;">           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |0 0 0 0 0 0 0 0|    Family     |           Port                |
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">          |                                                               |
</span><span style="color:#bfbab0;">          |                 Address (32 bits or 128 bits)                 |
</span><span style="color:#bfbab0;">          |                                                               |
</span><span style="color:#bfbab0;">          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<table><thead><tr><th>字段</th><th>长度</th><th>说明</th></tr></thead><tbody>
<tr><td>family</td><td>2</td><td>ip family</td></tr>
<tr><td>port</td><td>2</td><td>端口</td></tr>
<tr><td>address</td><td>4 / 16</td><td>地址</td></tr>
</tbody></table>
<table><thead><tr><th>IP Family</th><th>值</th></tr></thead><tbody>
<tr><td>IPv4</td><td>0x01</td></tr>
<tr><td>IPv6</td><td>0x02</td></tr>
</tbody></table>
<h4 id="#xor-address" class="toc-item flex items-center group scroll-mt-20">
    #XOR Address
    <a href="##xor-address" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4><pre style="background-color:#0f1419;">
<span style="color:#bfbab0;">            0                   1                   2                   3
</span><span style="color:#bfbab0;">            0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |0 0 0 0 0 0 0 0|    Family     |         X-Port                |
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span style="color:#bfbab0;">           |                X-Address (Variable)
</span><span style="color:#bfbab0;">           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></pre>
<div class="callout" style="background-color: #dee0e399; border-color: #dee0e3">
 <div><p><code>Family</code>字段代表IP地址族，其编码与<code>MAPPED-ADDRESS</code>中的<code>Family</code>字段相同.</p>
<p><code>X-Port</code>是通过对映射端口与<code>magic cookie</code>的最高<code>16</code>位进行异或计算得出的，如果是<code>IPv4</code>，则<code>X-Address</code>是通过对映射的<code>IP</code>地址与<code>magic cookie</code>进行异或计算得出的，如果<code>IP</code>是<code>IPv6</code>，则<code>X-Address</code>是通过对映射的<code>IP</code>地址与<code>magic cookie</code>和<code>96</code>位<code>transaction id</code>串联进行异或运算来计算的，在所有情况下，<code>XOR</code>操作都以网络字节顺序（即它们将在消息中编码的顺序）对其输入进行操作.</p>
<p>编码和处理属性值前<code>8</code>位的规则、处理属性多次出现的规则、处理地址族的规则与<code>MAPPED-ADDRESS</code>相同.</p>
</div>
</div>
<hr />
<h3 id="实现" class="toc-item flex items-center group scroll-mt-20">
    实现
    <a href="#实现" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><div class="url-preview">
 <div>GitHub - colourful-rtc/turn-rs: A pure rust-implemented turn server.</div>
 <div>A pure rust-implemented turn server. Contribute to colourful-rtc/turn-rs development by creating an account on GitHub.</div>
 <a href="https://github.com/colourful-rtc/turn-rs">https://github.com/colourful-rtc/turn-rs</a>
 <img src="https://opengraph.githubassets.com/23199effd402427f7f666c945da1a5d231b3e93c1a5221fcf251328fe7b4175a/colourful-rtc/turn-rs" />
</div>
<p>这是一个纯<code>Rust</code>实现的<code>STUN/TURN</code>服务器，内部包含<code>STUN</code>消息编解码器和<code>TURN</code>会话处理库.</p>
]]>
        </content>

        <author>
            <name>panda</name>
            </author>
    </entry>
    <entry>
        <title>WebRTC Build.GN</title>
        <link rel="alternate" href="https://mycrl.github.io/Mycrl/webrtc/build_gn" type="text/html" title="WebRTC Build.GN" />
        <published>2022-12-29</published>
        <updated>2022-12-29</updated>
        <id>https://mycrl.github.io/Mycrl/webrtc/build_gn</id>
        <content type="html" xml:base="https://mycrl.github.io/Mycrl/webrtc/build_gn">
            <![CDATA[<h3 id="rtc_enable_symbol_export-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_symbol_export = false
    <a href="#rtc_enable_symbol_export-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 将使 <code>RTC_EXPORT</code> 扩展为管理符号可见性的代码.
请参阅 <code>rtc_base/system/rtc_export.h</code></p>
</blockquote>
<h3 id="rtc_dlog_always_on-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_dlog_always_on = false
    <a href="#rtc_dlog_always_on-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将其设置为 <code>true</code>，将使 <code>RTC_DLOG()</code> 扩展为日志语句，而不是被预处理器删除，这很有用，例如能够在发布版本上获取 <code>RTC_DLOG</code>.</p>
</blockquote>
<h3 id="rtc_enable_objc_symbol_export-=-rtc_enable_symbol_export" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_objc_symbol_export = rtc_enable_symbol_export
    <a href="#rtc_enable_objc_symbol_export-=-rtc_enable_symbol_export" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 将使 <code>RTC_OBJC_EXPORT</code> 扩展为管理符号可见性的代码. 默认情况下，如果是C++ 符号，则导出 <code>Obj-C/Obj-C++</code> 符号，但将此 设置为 <code>true</code> 同时保持 <code>rtc_enable_symbol_export=false</code> 将仅导出 <code>RTC_OBJC_EXPORT</code> 带注释的符号.</p>
</blockquote>
<h3 id="build_with_chromium-=-rtc_exclude_field_trial_default-=-!is_nacl-&&-!is_chromecast" class="toc-item flex items-center group scroll-mt-20">
    build_with_chromium = rtc_exclude_field_trial_default = !is_nacl &amp;&amp; !is_chromecast
    <a href="#build_with_chromium-=-rtc_exclude_field_trial_default-=-!is_nacl-&&-!is_chromecast" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 将定义 <code>WEBRTC_EXCLUDE_FIELD_TRIAL_DEFAULT</code>，这将告诉预处理器删除使用 <code>field_trial</code>所需的符号的默认定义. 在这种情况下，需要提供新的实现.
当 WebRTC 作为 Chromium 的一部分构建时，它应该排除 <code>field_trial</code> 的默认实现， 除非它是为 <code>NACL</code>或 <code>Chromecast</code> 构建的.</p>
</blockquote>
<h3 id="rtc_exclude_metrics_default-=-build_with_chromium" class="toc-item flex items-center group scroll-mt-20">
    rtc_exclude_metrics_default = build_with_chromium
    <a href="#rtc_exclude_metrics_default-=-build_with_chromium" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 将定义 <code>WEBRTC_EXCLUDE_METRICS_DEFAULT</code>，这将告诉预处理器删除使用指标所需的符号的默认定义. 
在这种情况下，需要提供新的实现.</p>
</blockquote>
<h3 id="rtc_exclude_system_time-=-build_with_chromium" class="toc-item flex items-center group scroll-mt-20">
    rtc_exclude_system_time = build_with_chromium
    <a href="#rtc_exclude_system_time-=-build_with_chromium" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 将定义 <code>WEBRTC_EXCLUDE_SYSTEM_TIME</code>，这将告诉预处理器删除<code>rtc_base/system_time.cc</code> 中定义的 <code>SystemTimeNanos()</code> 的默认定义. 
在这种情况下，需要提供新的实现.</p>
</blockquote>
<h3 id="rtc_builtin_ssl_root_certificates-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_builtin_ssl_root_certificates = true
    <a href="#rtc_builtin_ssl_root_certificates-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>false</code> 将要求 API 用户传入他们自己的 <code>SSLCertificateVerifier</code> 以验证从 TLS-TURN 服务器提供的证书. 
作为回报，禁用它可以在二进制文件中节省大约 100kb.</p>
</blockquote>
<h3 id="rtc_include_ilbc-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_ilbc = true
    <a href="#rtc_include_ilbc-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>包括 <code>iLBC</code> 音频编解码器.</p>
</blockquote>
<h3 id="rtc_include_opus-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_opus = true
    <a href="#rtc_include_opus-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>禁用此项以避免构建 <code>Opus</code> 音频编解码器.</p>
</blockquote>
<h3 id="rtc_opus_support_120ms_ptime-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_opus_support_120ms_ptime = true
    <a href="#rtc_opus_support_120ms_ptime-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>如果构建 WebRTC 的 <code>Opus</code> 版本支持对 <code>120ms</code> 数据包的直接编码，请启用此选项.</p>
</blockquote>
<h3 id="rtc_opus_variable_complexity-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_opus_variable_complexity = false
    <a href="#rtc_opus_variable_complexity-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>启用此选项可让 <code>Opus</code> 音频编解码器动态更改复杂性.</p>
</blockquote>
<h3 id="rtc_jsoncpp_root-=-“//third_party/jsoncpp/source/include”" class="toc-item flex items-center group scroll-mt-20">
    rtc_jsoncpp_root = “//third_party/jsoncpp/source/include”
    <a href="#rtc_jsoncpp_root-=-“//third_party/jsoncpp/source/include”" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>用于在不编译 WebRTC 自带的库时指定外部 <code>Jsoncpp</code> 包含路径.
即 <code>rtc_build_json == 0</code></p>
</blockquote>
<h3 id="rtc_ssl_root-=-“”" class="toc-item flex items-center group scroll-mt-20">
    rtc_ssl_root = “”
    <a href="#rtc_ssl_root-=-“”" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>用于在不编译 WebRTC 附带的库时指定外部 <code>OpenSSL</code> 包含路径.
即 <code>rtc_build_ssl == 0</code></p>
</blockquote>
<h3 id="rtc_enable_external_auth-=-build_with_chromium" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_external_auth = build_with_chromium
    <a href="#rtc_enable_external_auth-=-build_with_chromium" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>当使用外部认证机制而不是 <code>libsrtp</code> 对 <code>RTP</code> 数据包执行数据包认证时启用.</p>
</blockquote>
<h3 id="apm_debug_dump-=-false" class="toc-item flex items-center group scroll-mt-20">
    apm_debug_dump = false
    <a href="#apm_debug_dump-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>选择是否应生成音频处理模块的调试转储.</p>
</blockquote>
<h3 id="rtc_exclude_audio_processing_module-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_exclude_audio_processing_module = false
    <a href="#rtc_exclude_audio_processing_module-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>选择是否应排除音频处理模块.</p>
</blockquote>
<h3 id="rtc_enable_bwe_test_logging-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_bwe_test_logging = false
    <a href="#rtc_enable_bwe_test_logging-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以启用 <code>BWE</code> 测试日志记录.</p>
</blockquote>
<h3 id="rtc_build_examples-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_examples = true
    <a href="#rtc_build_examples-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>false</code> 以跳过构建示例.</p>
</blockquote>
<h3 id="rtc_build_tools-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_tools = true
    <a href="#rtc_build_tools-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>false</code> 以跳过构建工具.</p>
</blockquote>
<h3 id="rtc_use_x11-=-ozone_platform_x11" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_x11 = ozone_platform_x11
    <a href="#rtc_use_x11-=-ozone_platform_x11" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>false</code> 以跳过构建需要 <code>X11</code> 的代码.</p>
</blockquote>
<h3 id="rtc_use_pipewire-=-is_linux-&&-use_sysroot" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_pipewire = is_linux &amp;&amp; use_sysroot
    <a href="#rtc_use_pipewire-=-is_linux-&&-use_sysroot" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将其设置为在 <code>Wayland</code> 显示服务器上使用 <code>PipeWire</code>。 默认情况下，它仅在桌面 Linux（不包括 ChromeOS）上启用，并且仅在使用 <code>sysroot</code> 时才启用，因为 <code>PipeWire</code> 在较旧且受支持的 Ubuntu 和 Debian 发行版中不可用.</p>
</blockquote>
<h3 id="rtc_link_pipewire-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_link_pipewire = false
    <a href="#rtc_link_pipewire-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将其设置为直接链接 <code>PipeWire</code> 和所需的库，而不是使用 <code>dlopen</code>.</p>
</blockquote>
<h3 id="build_with_mozilla-=-false" class="toc-item flex items-center group scroll-mt-20">
    build_with_mozilla = false
    <a href="#build_with_mozilla-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>启用以使用 <code>Mozilla</code> 内部设置.</p>
</blockquote>
<h3 id="rtc_enable_android_aaudio-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_android_aaudio = false
    <a href="#rtc_enable_android_aaudio-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>实验性：启用需要 <code>Android SDK 26</code> 或更高版本和 <code>NDK r16</code> 或更高版本的 <code>Android AAudio</code>.</p>
</blockquote>
<h3 id="rtc_sanitize_coverage-=-“”" class="toc-item flex items-center group scroll-mt-20">
    rtc_sanitize_coverage = “”
    <a href="#rtc_sanitize_coverage-=-“”" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>为覆盖生成设置为<code>func</code>、<code>block</code>、<code>edge</code>，在单元测试运行时设置 <code>UBSAN_OPTIONS=&quot;coverage=1&quot;</code>， 建议设置 <code>include_examples=0</code>， 将 <code>llvm</code> 的 <code>sancov -html-report</code> 用于人类可读的报告.
请参阅 <a href="http://clang.llvm.org/docs/SanitizerCoverage.html">http://clang.llvm.org/docs/SanitizerCoverage.html</a></p>
</blockquote>
<h3 id="rtc_prefer_fixed_point-=-current_cpu-==-“arm”-||-current_cpu-==-“arm64”" class="toc-item flex items-center group scroll-mt-20">
    rtc_prefer_fixed_point = current_cpu == “arm” || current_cpu == “arm64”
    <a href="#rtc_prefer_fixed_point-=-current_cpu-==-“arm”-||-current_cpu-==-“arm64”" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>尽可能选择定点代码.</p>
</blockquote>
<h3 id="rtc_build_with_neon-=-(current_cpu-==-“arm”-&&-arm_use_neon)-||-current_cpu-==-“arm64”" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_with_neon = (current_cpu == “arm” &amp;&amp; arm_use_neon) || current_cpu == “arm64”
    <a href="#rtc_build_with_neon-=-(current_cpu-==-“arm”-&&-arm_use_neon)-||-current_cpu-==-“arm64”" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>确定是否构建 <code>NEON</code> 代码.</p>
</blockquote>
<h3 id="rtc_use_h264-=-proprietary_codecs-&&-!is_android-&&-!is_ios-&&-!(is_win-&&-!is_clang)" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_h264 = proprietary_codecs &amp;&amp; !is_android &amp;&amp; !is_ios &amp;&amp; !(is_win &amp;&amp; !is_clang)
    <a href="#rtc_use_h264-=-proprietary_codecs-&&-!is_android-&&-!is_ios-&&-!(is_win-&&-!is_clang)" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>启用它以构建 <code>OpenH264</code> 编码器或者<code>FFmpeg</code> 解码器。 这在除 <code>Android</code> 和 <code>iOS</code> 之外的所有平台上都受支持。 因为 <code>FFmpeg</code> 可以在有或者没有 <code>H.264</code> 支持的情况下构建，所以 <code>ffmpeg_branding</code> 必须单独设置为包含 H.264 的值，例如<code>Chrome</code>. 如果 <code>FFmpeg</code> 是在没有 <code>H.264</code> 的情况下构建的，编译成功但 <code>H264DecoderImpl</code> 无法初始化。 在构建之前检查 <code>openh264</code>、<code>ffmpeg</code> 和 <code>H.264</code> 许可证/专利. <a href="http://www.openh264.org,">http://www.openh264.org,</a> <a href="https://www.ffmpeg.org/">https://www.ffmpeg.org/</a>
当前不支持在使用 <code>MSVC</code> 构建时启用 <code>H264</code>，有关详细信息，请参阅 <a href="bugs.webrtc.org/9213#c13">bugs.webrtc.org/9213#c13</a>.</p>
</blockquote>
<h3 id="rtc_use_absl_mutex-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_absl_mutex = false
    <a href="#rtc_use_absl_mutex-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>启用此标志使 <code>webrtc::Mutex</code> 由 <code>absl::Mutex</code> 实现.</p>
</blockquote>
<h3 id="rtc_use_dummy_audio_file_devices-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_dummy_audio_file_devices = false
    <a href="#rtc_use_dummy_audio_file_devices-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>默认情况下，使用普通平台音频支持或虚拟音频，但不要使用基于文件的音频播放和录制.</p>
</blockquote>
<h3 id="rtc_audio_device_plays_sinus_tone-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_audio_device_plays_sinus_tone = false
    <a href="#rtc_audio_device_plays_sinus_tone-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>设置为 <code>true</code> 时，将音频输出替换为 <code>440Hz</code> 的正弦音. <code>ADM</code> 将从 WebRTC 请求音频数据，但不是从 <code>NetEQ</code> 读取真实音频样本，而是生成正弦音并替换真实音频样本.</p>
</blockquote>
<h3 id="rtc_ios_macos_use_opengl_rendering-=-!(is_ios-&&-target_environment-==-“catalyst”)" class="toc-item flex items-center group scroll-mt-20">
    rtc_ios_macos_use_opengl_rendering = !(is_ios &amp;&amp; target_environment == “catalyst”)
    <a href="#rtc_ios_macos_use_opengl_rendering-=-!(is_ios-&&-target_environment-==-“catalyst”)" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>确定 <code>OpenGL</code> 在 <code>iOS/macOS</code> 上是否可用.</p>
</blockquote>
<h3 id="rtc_include_builtin_audio_codecs-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_builtin_audio_codecs = true
    <a href="#rtc_include_builtin_audio_codecs-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>当设置为 <code>false</code> 时，内置音频编码器/解码器工厂及其依赖的所有音频编解码器将不会包含在 <code>libwebrtc</code>中（它们仍将包含在 <code>libjingle_peerconnection_so.so</code> 和 <code>WebRTC.framework</code> 中）</p>
</blockquote>
<h3 id="rtc_include_builtin_video_codecs-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_builtin_video_codecs = true
    <a href="#rtc_include_builtin_video_codecs-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>当设置为 <code>false</code> 时，内置视频编码器/解码器工厂及其依赖的所有视频编解码器将不会包含在 <code>libwebrtc</code>中（它们仍将包含在 <code>libjingle_peerconnection_so.so</code> 和 <code>WebRTC.framework</code> 中）</p>
</blockquote>
<h3 id="rtc_win_undef_unicode-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_win_undef_unicode = false
    <a href="#rtc_win_undef_unicode-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>当设置为 <code>true</code> 并在独立构建中时，它将取消定义 <code>UNICODE</code> 和 <code>_UNICODE</code>（它们始终由 <code>Chromium Windows</code> 工具链全局定义）.
这仅用于测试目的，WebRTC 希望确保它不假定 <code>/DUNICODE</code> 和 <code>/D_UNICODE</code>，而是明确使用宽字符函数.</p>
</blockquote>
<h3 id="rtc_enable_win_wgc-=-is_win" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_win_wgc = is_win
    <a href="#rtc_enable_win_wgc-=-is_win" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>当设置为 <code>true</code> 时，使用 <code>Windows.Graphics.Capture API</code> 的捕获器实现将可供使用。 这引入了对 <code>Win 10 SDK v10.0.17763.0</code> 的依赖.</p>
</blockquote>
<h3 id="rtc_include_dav1d_in_internal_decoder_factory-=-true" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_dav1d_in_internal_decoder_factory = true
    <a href="#rtc_include_dav1d_in_internal_decoder_factory-=-true" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>设置为 <code>true</code> 时，在内部解码器工厂中包含 <code>dav1d</code> 解码器.</p>
</blockquote>
<h3 id="rtc_enable_protobuf-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_protobuf = !build_with_mozilla
    <a href="#rtc_enable_protobuf-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>允许使用<code>protobuf</code>进行调试记录.</p>
</blockquote>
<h3 id="rtc_enable_sctp-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_sctp = !build_with_mozilla
    <a href="#rtc_enable_sctp-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>设置此项以禁用支持 <code>SCTP</code> 数据通道的构建.</p>
</blockquote>
<h3 id="rtc_build_json-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_json = !build_with_mozilla
    <a href="#rtc_build_json-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><h3 id="rtc_build_libsrtp-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_libsrtp = !build_with_mozilla
    <a href="#rtc_build_libsrtp-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><h3 id="rtc_build_libvpx-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_libvpx = !build_with_mozilla
    <a href="#rtc_build_libvpx-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><h3 id="rtc_libvpx_build_vp9-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_libvpx_build_vp9 = !build_with_mozilla
    <a href="#rtc_libvpx_build_vp9-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><h3 id="rtc_build_opus-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_opus = !build_with_mozilla
    <a href="#rtc_build_opus-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3><h3 id="rtc_build_ssl-=-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_ssl = !build_with_mozilla
    <a href="#rtc_build_ssl-=-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>禁用这些以不构建可以从外部提供的组件.</p>
</blockquote>
<h3 id="rtc_include_pulse_audio-=-!build_with_chromium" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_pulse_audio = !build_with_chromium
    <a href="#rtc_include_pulse_audio-=-!build_with_chromium" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>排除在 Chromium 中，因为它的先决条件不需要 <code>Pulse Audio</code>.</p>
</blockquote>
<h3 id="rtc_include_internal_audio_device-=-!build_with_chromium" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_internal_audio_device = !build_with_chromium
    <a href="#rtc_include_internal_audio_device-=-!build_with_chromium" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>Chromium 使用自己的 IO 处理，因此内部 <code>ADM</code> 仅为独立的 WebRTC 构建.</p>
</blockquote>
<h3 id="rtc_enable_avx2-=-is_clang" class="toc-item flex items-center group scroll-mt-20">
    rtc_enable_avx2 = is_clang
    <a href="#rtc_enable_avx2-=-is_clang" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以在 webrtc 中启用 <code>avx2</code> 支持.
TODO：确保 <code>AVX2</code> 也适用于非 <code>clang</code> 编译器.</p>
</blockquote>
<h3 id="rtc_include_tests-=-!build_with_chromium-&&-!build_with_mozilla" class="toc-item flex items-center group scroll-mt-20">
    rtc_include_tests = !build_with_chromium &amp;&amp; !build_with_mozilla
    <a href="#rtc_include_tests-=-!build_with_chromium-&&-!build_with_mozilla" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以构建单元测试。 使用 Chromium 或 Mozilla 构建时禁用.</p>
</blockquote>
<h3 id="rtc_use_x11_extensions-=-rtc_use_x11" class="toc-item flex items-center group scroll-mt-20">
    rtc_use_x11_extensions = rtc_use_x11
    <a href="#rtc_use_x11_extensions-=-rtc_use_x11" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>false</code> 以跳过还需要 <code>X11</code> 扩展（例如 <code>Xdamage</code>、<code>Xfixes</code>）的构建代码.</p>
</blockquote>
<h3 id="rtc_disable_logging-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_disable_logging = false
    <a href="#rtc_disable_logging-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以完全从 WebRTC 中删除日志记录.</p>
</blockquote>
<h3 id="rtc_disable_trace_events-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_disable_trace_events = false
    <a href="#rtc_disable_trace_events-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以禁用堆栈跟踪事件.</p>
</blockquote>
<h3 id="rtc_disable_check_msg-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_disable_check_msg = false
    <a href="#rtc_disable_check_msg-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以禁用详细的错误消息和 <code>RTC_CHECKs</code> 的日志记录.</p>
</blockquote>
<h3 id="rtc_disable_metrics-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_disable_metrics = false
    <a href="#rtc_disable_metrics-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以禁用 webrtc 指标.</p>
</blockquote>
<h3 id="rtc_exclude_transient_suppressor-=-false" class="toc-item flex items-center group scroll-mt-20">
    rtc_exclude_transient_suppressor = false
    <a href="#rtc_exclude_transient_suppressor-=-false" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>将此设置为 <code>true</code> 以从构建中排除音频处理模块中的瞬态抑制器.</p>
</blockquote>
<h3 id="rtc_build_dcsctp-=-!build_with_mozilla-&&-rtc_enable_sctp" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_dcsctp = !build_with_mozilla &amp;&amp; rtc_enable_sctp
    <a href="#rtc_build_dcsctp-=-!build_with_mozilla-&&-rtc_enable_sctp" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>为数据通道和相关单元测试启用 <code>dcsctp</code> 后端.</p>
</blockquote>
<h3 id="rtc_build_usrsctp-=-!build_with_mozilla-&&-rtc_enable_sctp" class="toc-item flex items-center group scroll-mt-20">
    rtc_build_usrsctp = !build_with_mozilla &amp;&amp; rtc_enable_sctp
    <a href="#rtc_build_usrsctp-=-!build_with_mozilla-&&-rtc_enable_sctp" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>为数据通道和相关单元测试启用 <code>usrsctp</code> 后端.</p>
</blockquote>
<h3 id="rtc_desktop_capture_supported-=-(is_win-&&-current_os-!=-“winuwp”)-||-is_mac-||-((is_linux-||-is_chromeos)-&&-(rtc_use_x11_extensions-||-rtc_use_pipewire))" class="toc-item flex items-center group scroll-mt-20">
    rtc_desktop_capture_supported = (is_win &amp;&amp; current_os != “winuwp”) || is_mac || ((is_linux || is_chromeos) &amp;&amp; (rtc_use_x11_extensions || rtc_use_pipewire))
    <a href="#rtc_desktop_capture_supported-=-(is_win-&&-current_os-!=-“winuwp”)-||-is_mac-||-((is_linux-||-is_chromeos)-&&-(rtc_use_x11_extensions-||-rtc_use_pipewire))" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h3>
<blockquote>
<p>桌面捕获器仅在 <code>Windows</code>、<code>OSX</code> 和 <code>Linux</code> 上受支持.</p>
</blockquote>
]]>
        </content>

        <author>
            <name>panda</name>
            </author>
    </entry>
    <entry>
        <title>WebRTC自定义视频源</title>
        <link rel="alternate" href="https://mycrl.github.io/Mycrl/webrtc/customer_video_source" type="text/html" title="WebRTC自定义视频源" />
        <published>2022-12-29</published>
        <updated>2022-12-29</updated>
        <id>https://mycrl.github.io/Mycrl/webrtc/customer_video_source</id>
        <content type="html" xml:base="https://mycrl.github.io/Mycrl/webrtc/customer_video_source">
            <![CDATA[<p>通过自定义视频源，我们可以输入视频帧到<code>WebRTC MediaStreamTrack</code>中，这样可以将自定义的视频源发送到对端.<br />
要实现自定义视频源，需要实现的类就是<code>VideoSourceInterface</code>和<code>VideoTrackSource</code>.</p>
<h4 id="videosourceinterface:" class="toc-item flex items-center group scroll-mt-20">
    VideoSourceInterface:
    <a href="#videosourceinterface:" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>主要需要实现的就是<code>AddOrUpdateSink</code>和<code>RemoveSink</code></p>
</blockquote>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">class </span><span style="color:#59c2ff;">VideoSourceInterface </span><span style="color:#bfbab0;">{
</span><span style="color:#bfbab0;"> </span><span style="color:#ff7733;">public</span><span style="color:#bfbab0;">:
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">virtual </span><span style="color:#ffb454;">~VideoSourceInterface</span><span style="color:#bfbab0;">() </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">default</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// `AddOrUpdateSink`在`WebRTC`向这个类中添加`VideoSink`的时候触发,
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// 添加之后你就可以通过它向内部推送视频帧.
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// 一个视频源可以有同时存在多个`VideoSink`.
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">virtual void </span><span style="color:#ffb454;">AddOrUpdateSink</span><span style="color:#bfbab0;">(VideoSinkInterface&lt;VideoFrameT&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0cc;">,
</span><span style="color:#bfbab0;">                               </span><span style="color:#ff7733;">const</span><span style="color:#bfbab0;"> VideoSinkWants</span><span style="color:#f29668;">&amp; </span><span style="color:#f29718;">wants</span><span style="color:#bfbab0;">) </span><span style="color:#f29668;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// `RemoveSink`是需要删除`VideoSink`的时候调用.
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">virtual void </span><span style="color:#ffb454;">RemoveSink</span><span style="color:#bfbab0;">(VideoSinkInterface&lt;VideoFrameT&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0;">) </span><span style="color:#f29668;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">virtual void </span><span style="color:#ffb454;">RequestRefreshFrame</span><span style="color:#bfbab0;">() {}
</span><span style="color:#bfbab0;">}</span><span style="color:#bfbab0cc;">;
</span></pre>
<div class="url-preview">
 <div>batrachiatc/media_stream_track.h at master · colourful-rtc/batrachiatc · GitHub</div>
 <div>Google webrtc native export c abi. Contribute to colourful-rtc/batrachiatc development by creating an account on GitHub.</div>
 <a href="https://github.com/colourful-rtc/batrachiatc/blob/master/src/media_stream_track.h#L35">https://github.com/colourful-rtc/batrachiatc/blob/master/src/media_stream_track.h#L35</a>
 <img src="https://opengraph.githubassets.com/facb2dafdb5e25bab323f00653ba47793ca7b7066d7332eb21894f5a3cc09f72/colourful-rtc/batrachiatc" />
</div>
<h4 id="videotracksource" class="toc-item flex items-center group scroll-mt-20">
    VideoTrackSource
    <a href="#videotracksource" class="ml-2 inline-flex items-center opacity-0 border-0 group-hover:opacity-100"
        aria-label="Anchor">
        <div
            class="w-6 h-6 text-slate-400 ring-1 ring-slate-900/5 rounded-md shadow-sm flex items-center justify-center hover:ring-slate-900/10 hover:shadow hover:text-slate-700">
            <svg width="12" height="12" fill="none" aria-hidden="true">
                <path d="M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round">
                </path>
            </svg>
        </div>
    </a>
</h4>
<blockquote>
<p>不需要实现其中任何方法，直接继承即可，这个类的主要作用就是提供<code>VideoSource</code>的实现</p>
</blockquote>
<pre style="background-color:#0f1419;">
<span style="color:#ff7733;">class </span><span style="color:#bfbab0;">RTC_EXPORT </span><span style="color:#59c2ff;">VideoTrackSource </span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">public </span><span style="text-decoration:underline;color:#59c2ff;">Notifier</span><span style="color:#bfbab0;">&lt;VideoTrackSourceInterface&gt; {
</span><span style="color:#bfbab0;"> </span><span style="color:#ff7733;">public</span><span style="color:#bfbab0;">:
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">explicit </span><span style="color:#ffb454;">VideoTrackSource</span><span style="color:#bfbab0;">(</span><span style="color:#ff7733;">bool </span><span style="color:#f29718;">remote</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">SetState</span><span style="color:#bfbab0;">(SourceState </span><span style="color:#f29718;">new_state</span><span style="color:#bfbab0;">)</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  SourceState </span><span style="color:#ffb454;">state</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">const override </span><span style="color:#bfbab0;">{ </span><span style="color:#ff7733;">return</span><span style="color:#bfbab0;"> state_</span><span style="color:#bfbab0cc;">; </span><span style="color:#bfbab0;">}
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// 视频源是否来自远端，如果是自己实现的，始终为`false`
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">bool </span><span style="color:#ffb454;">remote</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">const override </span><span style="color:#bfbab0;">{ </span><span style="color:#ff7733;">return</span><span style="color:#bfbab0;"> remote_</span><span style="color:#bfbab0cc;">; </span><span style="color:#bfbab0;">}
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// 视频源是否为桌面捕获，如果来自桌面，则覆盖实现返回`true`即可
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">bool </span><span style="color:#ffb454;">is_screencast</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">const override </span><span style="color:#bfbab0;">{ </span><span style="color:#ff7733;">return </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">; </span><span style="color:#bfbab0;">}
</span><span style="color:#bfbab0;">  absl</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">optional&lt;</span><span style="color:#ff7733;">bool</span><span style="color:#bfbab0;">&gt; </span><span style="color:#ffb454;">needs_denoising</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">const override </span><span style="color:#bfbab0;">{
</span><span style="color:#bfbab0;">    </span><span style="color:#ff7733;">return</span><span style="color:#bfbab0;"> absl</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">nullopt</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  }
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="font-style:italic;color:#5c6773;">// 获取源状态
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">bool </span><span style="color:#ffb454;">GetStats</span><span style="color:#bfbab0;">(Stats</span><span style="color:#f29668;">* </span><span style="color:#f29718;">stats</span><span style="color:#bfbab0;">) </span><span style="color:#ff7733;">override </span><span style="color:#bfbab0;">{ </span><span style="color:#ff7733;">return </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">; </span><span style="color:#bfbab0;">}
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">AddOrUpdateSink</span><span style="color:#bfbab0;">(rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSinkInterface&lt;VideoFrame&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0cc;">,
</span><span style="color:#bfbab0;">                       </span><span style="color:#ff7733;">const</span><span style="color:#bfbab0;"> rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSinkWants</span><span style="color:#f29668;">&amp; </span><span style="color:#f29718;">wants</span><span style="color:#bfbab0;">) </span><span style="color:#ff7733;">override</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">RemoveSink</span><span style="color:#bfbab0;">(rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSinkInterface&lt;VideoFrame&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0;">) </span><span style="color:#ff7733;">override</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">bool </span><span style="color:#ffb454;">SupportsEncodedOutput</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">const override </span><span style="color:#bfbab0;">{ </span><span style="color:#ff7733;">return </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">; </span><span style="color:#bfbab0;">}
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">GenerateKeyFrame</span><span style="color:#bfbab0;">() </span><span style="color:#ff7733;">override </span><span style="color:#bfbab0;">{}
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">AddEncodedSink</span><span style="color:#bfbab0;">(
</span><span style="color:#bfbab0;">      rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSinkInterface&lt;RecordableEncodedFrame&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0;">) </span><span style="color:#ff7733;">override </span><span style="color:#bfbab0;">{}
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">void </span><span style="color:#ffb454;">RemoveEncodedSink</span><span style="color:#bfbab0;">(
</span><span style="color:#bfbab0;">      rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSinkInterface&lt;RecordableEncodedFrame&gt;</span><span style="color:#f29668;">* </span><span style="color:#f29718;">sink</span><span style="color:#bfbab0;">) </span><span style="color:#ff7733;">override </span><span style="color:#bfbab0;">{}
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;"> </span><span style="color:#ff7733;">protected</span><span style="color:#bfbab0;">:
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">virtual</span><span style="color:#bfbab0;"> rtc</span><span style="color:#f29668;">::</span><span style="color:#bfbab0;">VideoSourceInterface&lt;VideoFrame&gt;</span><span style="color:#f29668;">* </span><span style="color:#ffb454;">source</span><span style="color:#bfbab0;">() </span><span style="color:#f29668;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">
</span><span style="color:#bfbab0;"> </span><span style="color:#ff7733;">private</span><span style="color:#bfbab0;">:
</span><span style="color:#bfbab0;">  SequenceChecker worker_thread_checker_</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  SourceState state_</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">  </span><span style="color:#ff7733;">const bool</span><span style="color:#bfbab0;"> remote_</span><span style="color:#bfbab0cc;">;
</span><span style="color:#bfbab0;">}</span><span style="color:#bfbab0cc;">;
</span></pre>
<div class="url-preview">
 <div>batrachiatc/media_stream_track.h at master · colourful-rtc/batrachiatc · GitHub</div>
 <div>Google webrtc native export c abi. Contribute to colourful-rtc/batrachiatc development by creating an account on GitHub.</div>
 <a href="https://github.com/colourful-rtc/batrachiatc/blob/master/src/media_stream_track.h#L53">https://github.com/colourful-rtc/batrachiatc/blob/master/src/media_stream_track.h#L53</a>
 <img src="https://opengraph.githubassets.com/facb2dafdb5e25bab323f00653ba47793ca7b7066d7332eb21894f5a3cc09f72/colourful-rtc/batrachiatc" />
</div>
]]>
        </content>

        <author>
            <name>panda</name>
            </author>
    </entry>
    </feed>